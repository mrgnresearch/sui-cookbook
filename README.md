# Sui Programmable Transaction Block Example in Rust

[![](https://mermaid.ink/img/pako:eNqdlF1vmzAUhv-K5d4wKWQ2HwFcaTdtL6Zpm7R2F1upIgucxAvYyJimaZL_XgdMVjIl28oFcHje8xrOOXgDM5kzSGAqZoVcZQuqNLi7TgUwx82Xu28_7u9vhFZrwEXV6PrhoUPIQWOAnjxCMskFIY-0aNi7jmEHW1ZSvSAk5488Z1Mq8qmSjTk3lVV6jjdwqauCa8t8xz-5QuAEA_bMlLQodMIBylmtlVxPX0kmzsRKllzWS0IEW1kUOdEQLWg95ZqVlsdOPORZIevu01ZcL3JFe6fESf72Hhg5GB1VajbroakiHjj8Muceeg7uK6cVFfWMqd93RvSqf8B1P2xTKBWfc0ELsDcDLrgyl4tCX95-_3gx15cp3AJ0nOUZXTMJtgC_yQ_bNNSmDBPabh7Z45O69-DwKp6dDuCOXRDYnrfBxHa3dWnbY3I-7a9bEJ1h8Z9MrgRTIKNVr_q6f3BFq4M6ape0QWxrolhJucj3qSeLktjxaPMx6iehC_tC4C603xpYe1ZWen3GOrQ_lZWbqT4j9g91NOKDdNgW9K_9Q_-zcvS2YfLgCJZMmQrnZrva7E1SqBesZCkk5janapmabWxndLTR8nYtMmj-iYaNYFPlVLNrTueKlpDMaFGbpxUVP6UcxJBs4BMkLkaeP06SOAjjEHlBgOIRXEMSBtE4Tjw_DOKJIcFuBJ9bBzxOUBT7BngowX6YhCPIcq6l-txtr-0uu3sBc0mUPw?type=png)](https://mermaid.live/edit#pako:eNqdlF1vmzAUhv-K5d4wKWQ2HwFcaTdtL6Zpm7R2F1upIgucxAvYyJimaZL_XgdMVjIl28oFcHje8xrOOXgDM5kzSGAqZoVcZQuqNLi7TgUwx82Xu28_7u9vhFZrwEXV6PrhoUPIQWOAnjxCMskFIY-0aNi7jmEHW1ZSvSAk5488Z1Mq8qmSjTk3lVV6jjdwqauCa8t8xz-5QuAEA_bMlLQodMIBylmtlVxPX0kmzsRKllzWS0IEW1kUOdEQLWg95ZqVlsdOPORZIevu01ZcL3JFe6fESf72Hhg5GB1VajbroakiHjj8Muceeg7uK6cVFfWMqd93RvSqf8B1P2xTKBWfc0ELsDcDLrgyl4tCX95-_3gx15cp3AJ0nOUZXTMJtgC_yQ_bNNSmDBPabh7Z45O69-DwKp6dDuCOXRDYnrfBxHa3dWnbY3I-7a9bEJ1h8Z9MrgRTIKNVr_q6f3BFq4M6ape0QWxrolhJucj3qSeLktjxaPMx6iehC_tC4C603xpYe1ZWen3GOrQ_lZWbqT4j9g91NOKDdNgW9K_9Q_-zcvS2YfLgCJZMmQrnZrva7E1SqBesZCkk5janapmabWxndLTR8nYtMmj-iYaNYFPlVLNrTueKlpDMaFGbpxUVP6UcxJBs4BMkLkaeP06SOAjjEHlBgOIRXEMSBtE4Tjw_DOKJIcFuBJ9bBzxOUBT7BngowX6YhCPIcq6l-txtr-0uu3sBc0mUPw)

[//]: # (```mermaid)
[//]: # (flowchart TD)
[//]: # (ENTRY[[Entry inputs]])
[//]: # (0&#40;0. 0x2::coin::value&#41;)
[//]: # (1&#40;1. 0x2::math::divide_and_round_up&#41;)
[//]: # (2&#40;2. 0x2::coin::split&#41;)
[//]: # (3&#40;3. 0x2::coin::value&#41;)
[//]: # (4&#40;4. 0x2::coin::zero&#41;)
[//]: # (5&#40;5. 0x2::coin::destroy_zero&#41;)
[//]: # (6&#40;6. 0x2::kiosk::new&#41;)
[//]: # (7&#40;7. 0x2::kiosk::has_item&#41;)
[//]: # (8&#40;8. 0x2::kiosk::close_and_withdraw&#41;)
[//]: # (9&#40;9. 0x2::coin::destroy_zero&#41;)
[//]: # (10&#40;10. 0x2::math::diff&#41;)
[//]: # (11&#40;11. 0x2::coin::join&#41;)
[//]: # (12&#40;12. 0x2::transfer::transfer&#41;)
[//]: # ()
[//]: # (    ENTRY -->|"original coin - Coin#lt;SUI#gt;"| 0)
[//]: # (    ENTRY -->|2 - u64| 1)
[//]: # (    ENTRY -->|"original coin - Coin#lt;SUI#gt;"| 11)
[//]: # (    0 -->|original coin value - u64| 1)
[//]: # (    1 -->|original coin value / 2 - u64| 2)
[//]: # (    3 -.- 4)
[//]: # (    5 -.- 6)
[//]: # (    6 -->|kiosk - Kiosk| 7)
[//]: # (    6 -->|kiosk - Kiosk| 8)
[//]: # (    6 -->|kiosk owner cap - KioskOwnerCap| 8)
[//]: # (    7 -.- 8)
[//]: # (    8 -->|"remainder coin - Coin#lt;SUI#gt;"| 9)
[//]: # (    9 -.- 10)
[//]: # (    10 -.- 11)
[//]: # (    11 -.- 12)
[//]: # (    4 -->|"empty coin - Coin#lt;SUI#gt;"| 5)
[//]: # (    2 -->|"new coin - Coin#lt;SUI#gt;"| 3)
[//]: # (    3 -->|new coin value - u64| 10)
[//]: # (    0 -->|original coin value - u64| 10)
[//]: # (    2 -->|"new coin - Coin#lt;SUI#gt;"| 7)
[//]: # (    ENTRY -->|"original coin - Coin#lt;SUI#gt;"| 12)
[//]: # (```)